<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <script src="https://unpkg.com/datocms-plugins-sdk"></script>
  <link href="https://unpkg.com/datocms-plugins-sdk/dist/sdk.css" media="all" rel="stylesheet" />
</head>
<body>
    <select id="optionSelect" name="option_select">
        <option value="volvo">Volvo</option>
        <option value="saab">Saab</option>
        <option value="opel">Opel</option>
        <option value="audi">Audi</option>
    </select>
  <script type="text/javascript">
    
    function setFieldValue(plugin, value) {
        return plugin.setFieldValue(plugin.fieldPath, JSON.stringify(value));
    }

    DatoCmsPlugin.init(function(plugin) {
      const select = document.querySelector("#optionSelect");

      plugin.startAutoResizer()

      select.value = plugin.getFieldValue(plugin.fieldPath);

      plugin.addFieldChangeListener(plugin.fieldPath, function(newValue) {
        select.value = newValue;
      });

      select.addEventListener("change", function(e) {
        plugin.setFieldValue(plugin.fieldPath, "[JSON.stringify(e.target.value)]");
      });
    });
  </script>
</body>
</html>